<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <style type="text/css">
        button,
        div,
        form,
        input {
          margin: 10px;
        }
      </style>
</head>

<body>
        <div class = "conatiner"> 
            <h1> Welcome to the Gif Search</h1>
        </div>

        <div id = "button-display" ></div>
        <div id = "images">

            </div>
        <form id="gif-form">
                <label for="gif-input">Search for a gif</label>
                <input type="text" id="gif-input"><br>

                <input id="add-gif" type="submit" value="Gif Search">
            </form>

        <!-- <div id = "images"></div> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">



var tag = [
    "monkey",
    "dolphin", 
    "cow", 
    "pig", 
    "cat"
];


function renderButtons () {

for(var i = 0; i < tag.length; i++){

   var gifButton = $("<button>");
//    gifButton.addClass("button")
   gifButton.attr("data-name", tag[i]);
   gifButton.text(tag[i]);

   $("#button-display").append(gifButton);

}
}

    $("#add-gif").on("click", function(event) {

        event.preventDefault();

        $("#button-display").empty();

        var searchTag = $("#gif-input").val().trim();

        tag.push(searchTag);

        renderButtons();
    });
    

renderButtons();


$("button").on("click", function() {
var search = $(this).attr("data-name");

var queryURL = "https://api.giphy.com/v1/gifs/random?api_key=WSu7YdGhxEmY7RFL1E6gjcfEVmatOfgF&tag=" +
 search + "&rating=G";

// Perfoming an AJAX GET request to our queryURL
$.ajax({
  url: queryURL,
  method: "GET"
})

  .then(function(response) {
      console.log(queryURL);
      console.log(response)

var results = response.data;

for (i = 0; i < results.length; i++) {

    var gifDiv = $("<div>");
    
    var p = $("<p>").text("Gif: " + results[i].rating);
    
    var gifImage = $("<img>");
    gifImage.attr("src", results[i].data.images.fixed_height.url);
    gifDiv.append(p);
    gifDiv.append(gifImage);

    $("#images").prepend(gifDiv);

  }
  console.log(results);
 });
});
</script>
</body>
</html>